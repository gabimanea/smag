<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>JavaScript</title>

  </head>
  <body>
    <div id="res"></div>
    <input type="text" id="textno" name="textno" value="">
    <button id="generate" type="button" name="button">Genereaza</button>
    <script type="text/javascript">
    (function(){
      "use strict";

      document.getElementById("generate").addEventListener("click", get_total, false);

      var timeDiff = {
        setStartTime:function()
        {
          var d = new Date();
          this.time = d.getTime();
        },
        getDiff:function()
        {
          var d2 = new Date();
          return (d2.getTime()-this.time);
        }
      };

      function get_total()
      {
        timeDiff.setStartTime();

        var tnombers = document.getElementById("textno").value;

        var total = 0, count = 1;
        while (count <= tnombers) {
          total += count;
          count += 1;
        }
        //var llt = total;

        //console.log(total);
        //document.write(total);

        var output = "";

        if (tnombers < 0) {
          output = 'Trebuie pus un numar pozitiv.'
        }
        else {
          output += 'Rezultat adunare: ' + total.toLocaleString('ro-RO');

          output += '<br>Afișare pentru limba română.<hr>';

          var total_time = timeDiff.getDiff();

          output += 'S-au adunat ' + count.toLocaleString('ro-RO') + ' de numere in ' + (total_time/1000) + ' secunde sau ' + (total_time) + ' milisecunde.';
        }



        document.getElementById('res').innerHTML = output;

        location.href="#generate";
      }




    }());//final




    </script>
    <button id="restore" type="refresh" name="button" onClick="history.go(0)">Restore</button>
  </body>
</html>
